# =============================================================================
# Fraud & Revenue Intelligence Platform - Example Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# .env is gitignored and should NEVER be committed to version control.
# =============================================================================

# Project
PROJECT_NAME=fraud-intelligence-platform
ENVIRONMENT=local

# Kafka
KAFKA_BOOTSTRAP_SERVERS=kafka:29092
KAFKA_EXTERNAL_PORT=9092
KAFKA_TOPICS=orders,payments,users,devices,geo_events,refunds
KAFKA_NUM_PARTITIONS=6
KAFKA_REPLICATION_FACTOR=1
SCHEMA_REGISTRY_URL=http://schema-registry:8081

# MinIO (S3-Compatible Object Storage)
MINIO_ROOT_USER=your_minio_user
MINIO_ROOT_PASSWORD=your_minio_password_here
MINIO_ENDPOINT=http://minio:9000
MINIO_EXTERNAL_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_BUCKET=fraud-platform
AWS_ACCESS_KEY_ID=your_minio_user
AWS_SECRET_ACCESS_KEY=your_minio_password_here
AWS_ENDPOINT_URL=http://minio:9000

# Spark
SPARK_MASTER_URL=spark://spark-master:7077
SPARK_MASTER_PORT=7077
SPARK_MASTER_WEBUI_PORT=8080
SPARK_WORKER_WEBUI_PORT=8081
SPARK_WORKER_CORES=2
SPARK_WORKER_MEMORY=2g
SPARK_DRIVER_MEMORY=2g
SPARK_EXECUTOR_MEMORY=2g
DELTA_VERSION=2.4.0
SPARK_VERSION=3.5.5

# PostgreSQL (Analytics Warehouse + Airflow Backend)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=platform_user
POSTGRES_PASSWORD=your_postgres_password_here
POSTGRES_DB=fraud_platform
POSTGRES_AIRFLOW_DB=airflow_metadata
POSTGRES_CONN_STRING=postgresql://platform_user:your_postgres_password_here@postgres:5432/fraud_platform

# Airflow
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://platform_user:your_postgres_password_here@postgres:5432/airflow_metadata
AIRFLOW__CORE__FERNET_KEY=generate_with_python_-c_"from_cryptography.fernet_import_Fernet;print(Fernet.generate_key().decode())"
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=true
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__API__AUTH_BACKENDS=airflow.api.auth.backend.basic_auth
AIRFLOW__SCHEDULER__ENABLE_HEALTH_CHECK=true
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=true
AIRFLOW_ADMIN_USER=admin
AIRFLOW_ADMIN_PASSWORD=your_airflow_admin_password_here
AIRFLOW_ADMIN_EMAIL=admin@yourplatform.com

# dbt
DBT_PROFILES_DIR=/app/dbt
DBT_PROJECT_DIR=/app/dbt

# ML Service
ML_SERVICE_HOST=ml-server
ML_SERVICE_PORT=8000
MODEL_REGISTRY_PATH=/app/ml/models/registry
FRAUD_THRESHOLD=0.7

# Data Generator
GENERATOR_EVENTS_PER_SECOND=50
GENERATOR_FRAUD_RATIO=0.03
GENERATOR_ANOMALY_BURST_ENABLED=true
GENERATOR_BATCH_SIZE=10

# Monitoring
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Great Expectations
GE_ROOT_DIR=/app/data_quality
